# Deployment settings
deployment:
  enabled: true
  kind: Deployment
  replicas: 1
  # Node selector to ensure Traefik runs on worker nodes
  nodeSelector:
    type: worker

# Pod labels for load balancer targeting
podLabels:
  app.kubernetes.io/name: traefik
  app.kubernetes.io/component: ingress

# Service configuration for bare-metal environment
service:
  enabled: true
  type: NodePort
  labels:
    app.kubernetes.io/name: traefik
    app.kubernetes.io/component: ingress
  nodePorts:
    web: "31362"
    websecure: "30377"

# Dashboard (enabled for development)
api:
  dashboard: true

# Experimental features
experimental: {}

# Gateway API Configuration
gatewayClass:
  enabled: true

gateway:
  enabled: true

# Static configuration
additionalArguments:
  - "--api.insecure=false"
  - "--log.level=DEBUG"
  - "--accesslog=true"
  - "--entrypoints.web.address=:8000"
  - "--entrypoints.websecure.address=:8443"
  - "--providers.kubernetesgateway"

# Resource limits suitable for small Talos cluster
resources:
  requests:
    cpu: "50m"
    memory: "64Mi"
  limits:
    cpu: "200m"
    memory: "256Mi"

# Logs configuration
logs:
  general:
    level: "DEBUG"
  access:
    enabled: true

# Ports configuration
ports:
  web:
    port: 8000
    expose:
      port: 8000
    protocol: TCP
  websecure:
    port: 8443
    expose:
      port: 8443
    protocol: TCP
    tls:
      enabled: false

# TLS options
tlsOptions: {}
tlsStore: {}

# Certificate resolvers (disabled - use cert-manager for SSL)
certificatesResolvers: {}

# RBAC configuration
rbac:
  enabled: true
  namespaced: false


